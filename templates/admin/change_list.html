{% extends "admin/base_site.html" %}
{% load static %}
{% load admin_extras %}

{% block wrapper %}
	<!-- Header -->
	{% include "admin/header.html" %}
	<!-- /Header -->

	<!-- Sidebar -->
	{% include "admin/sidebar.html" with app_list=available_apps %}
	<!-- /Sidebar -->
{% endblock wrapper %}

{% block extra_style %}
	<!-- Datatable CSS -->
	<link rel="stylesheet" href="{% static 'assets/css/dataTables.bootstrap4.min.css' %}">
{% endblock extra_style %}

{% block content %}

<div class="row">
	<div class="col-sm-12">
		<div class="card mb-0">
			<div class="card-header">
				<div class="card-title mb-0">
					<h4>Default Datatable</h4>
					<a href="./add" class="btn btn-primary">Add more</a>
				</div>
			</div>
			<div class="card-body">

				<div class="table-responsive">
					<table class="datatable table table-stripped mb-0">
						<thead>
							{% get_fields cl as all_fields %}
							<tr>
								<th>SL No</th>
								{% for field in all_fields %}
									<th>{{ field|beutify_field_name }}</th>
								{% endfor %}
								<th></th>
							</tr>
						</thead>
						<tbody>
						{% for obj in cl.result_list %}
							<tr>
								<td>{{ forloop.counter }}</td>
								{% get_all_attributes_of_object obj all_fields as obj_values %}
								
								{% for value in obj_values %}
									<td>{{ value }}</td>
								{% endfor %}
								<td class="text-end">
									<div class="dropdown dropdown-action">
										<a href="#" class="action-icon dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
										<div class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#edit_categories"><i class="fa-solid fa-pencil m-r-5"></i> Edit</a>
										<a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#delete"><i class="fa-regular fa-trash-can m-r-5"></i> Delete</a>
										</div>
									</div>
								</td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock content %}

{% block extra_scripts %}

<script src="{% static 'assets/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/js/dataTables.bootstrap4.min.js' %}"></script>

{% endblock extra_scripts %}
